# Live Streaming

## **라이브 스트리밍 워크플로우**
원본영상 -> 라이브 인코더 -> 미디어 서버 -> 전송 서버(CDN) -> 동영상 플레이어 -> 시청자
1. 원본 영상 -> 라이브 인코더  
영상송출
2. 미디어 서버 -> 전송 서버(CDN)  
영상 변환 및 전송
3. 동영상 플레이어 -> 시청자  
영상 재생

<br>

## **라이브 인코더**
라이브 인코더는 원본 영상을 정해진 방식으로 압축(인코딩)하고, 압축한 컨텐츨르 미디어 서버로 전송하는 역할을 한다. 인코더에서 미디어 서버로 컨텐츠를 전송하는 것을 보통 송출이라고 한다.

<br>

### **인코더의 종류**
- PC에 설치해서 사용할 수 있는 소프트웨어 인코더
- 박스 형태의 하드웨어 인코더
- 쵤영하면서 송출까지 할 수 있는 모바일 앱 인코더  
오픈소스인 ffmpeg을 이용하여 간단한 인코더를 구현할 수 도 있다.

<br>

### **압축**
카메라로 촬영한 원본 영상을 그대로 미디어 서버에 전송하기에는 데이터 용량이 너무 크기 때문에 압축하는 과정이 필요하다. 아울러 미디어 서버에서 해석할 수 있는 압축 방식(코덱, Codec)을 사용해야 한다. 인터넷 방송에는 H.264/AAC 코덱이 주로 쓰이며, 최근에는 더욱 압축 효율이 좋은 H.265 코덱을 사용하는 경우도 늘어나고 있다.

인코딩은 CPU를 많이 쓰는 작업이다. 인코딩 작업에 평균 CPU 사용률이 80%를 넘을 경우 출력 영상의 품질이 나빠질 수 있다. 만약 CPU부하로 인해 송출 중인 영상이 계속 끊기거나 버벅인다면 출력 해상도나 비트레이트를 줄이는 것이 좋다.

<br>

### **송출**
