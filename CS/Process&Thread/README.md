# Process & Thread

## 프로세스와 스레드
-  프로세스(Process)는 cpu에 의해 메모리에 올려져 실행중인 프로그램을 말하며, 자신만의 메모리 공간을 가지며 독립적인 실행 환경을 가지고 있다.<br>
자바 JVM(Java Virtual Machine)은 주로 하나의 프로세스로 실행되며, 동시에 여러 작업을 수행하기 위해서 멀티 쓰레드를 지원한다.

- 스레드(Thread)는 프로세스 안에서 실질적으로 작업을 실행하는 단위, 자바에서는 JVM에 의해 관리된다. 프로세스에는 적어도 한개 이상의 스레드가 있으며, Main 스레드 하나를 시작하여 스레드를 추가하게 되면 멀티 스레드 환경이 된다.<br>
  
 - 프로세스는 운영체제로부터 자원을 할당받는 **<span style="color:red">작업의 단위</span>** 이며, 스레드는 할당받은 자원을 이용하는 **<span style="color:red">실행 단위</span>** 이다.

<br>

## 멀티프로세스
프로세스가 동시에 2개이상이 실행되는 것
하나의 코어에서 하나 이상의 프로세스(스레드)가 번갈아가면서 진행되지만 동시에 진행되는 것처럼 보이는 것이며 CPU에서는 한 번에 하나의 작업만 가능하다.<br>

예를 들어 카카오톡을 실행하면 카카오톡이 CPU위에 올라오고, 크롬을 실행하면 카카오톡은 준비상태로 CPU에서 내려가고, 크롬이 CPU자리에 올라오게 된다. 이것을 **<span style="color:red">Context Switching</span>** 이라고 한다.

### 멀티프로세스의 특징
- 각각 독립적이라 동기화 작업이 필요가 없다.
- 개별 메모리 차지로 인한 자원 소모가 크다.
- Context Switching의 비용이 크다

## 멀티스레드
스레드는 경량화된 프로세스라고 한다. 하나의 프로세스 안에 다수의 스레드가 있을 때, 스레드는 프로세스처럼 모든 영역을 다 빼고 넣고 하지않아도 된다. 각 스레드는 **스택 부분만을 따로 가지고, 코드, 데이터, 힙 영역은 공유** 하기 때문이다. 이로 인하여 메모리 사용이 효율적이게 된다.<br>

예를 들면 사무실에서 모니터, 복사기, 커피머신 등의 공유자원이 있다. 이 때 사람(스레드)가 나갈 때 마다 공유자원(코드, 데이터, 힙)을 가지고 나가서, 다음 사람이 들어올 때 사무실로 가지고 들어올 필요는 없다.

### 멀티 스레드의 특징
- 스레드간 긴밀하게 연결되어 있기에 공유된 자원으로 통신 비용이 절감되며 메모리 사용이 효율적이다.
- 공유자원관리가 필요하고 Context Switching 비용이 적다.
- 하지만 스레드간 연결이 되어 있기에 한 스레드에 문제가 생기면 전체 프로세스에 영향이 가게된다.

이러한 멀티스레드 단점으로 예가 있다.<br>
익스플로러를 사용할 때 "Internet Explorer의 작동이 중지되었습니다." 라는 오류가 뜨면 모든 창들이 꺼져버린다. 이처럼 하나의 스레드 문제가 전체 프로세스에 영향을 끼치게 되는 것이 멀티스레드의 단점이다.<br>
반면에 크롬은 멀티프로세스 사용으로 인해 개별 창 하나가 문제가 되더라도 모든 창들이 꺼지지 않는다.