# 로컬 플레이어와 리모트 플레이어

## 4인 멀티플레이어 게임은 총 몇명의 플레이어가 게임속에 존재하는가?

플레이어 A, B, C, D가 참가하는 4인 멀티플레이어 게임은 16명의 플레이어가 존재한다.

-> 4대의 컴퓨터가 통신하면서 만들어진 게임세상은 4개가 존재한다. 각 컴퓨터 안에서는 A, B, C, D가 존재한다.
그러므로 4개의 게임세상안에 4명씩들어있으므로 16명의 플레이어가 존재한다.

A의 게임세상에서는 컴퓨터 앞에 앉아 있는 A는 로컬플레이어이고 나머지 B, C, D는 리모트플레이어, 즉 다른 세상에서 건너온 원격 플레이어이다.

B, C, D도 동일하게 구성된다.

B, C, D의 게임세상 속 A는 레플리카이며, A의 세상의 A는 나머지 세상의 A들에게 정보 동기화를 한다.  
그래서 A가 움직이게되면 다른 세상의 A도 움직이게 된다.

<br>

# 서버-클라이언트와 권한 분리

## 1. Play as Host

A, B, C, D 3명의 플레이어가 존재하는 멀티플레이어 게임  
-> 3개의 게임세상과 3명의 로컬플레이어, 6명의 리모트플레이어

C가 Host일 때,  
Host이자 Server인 C의 역할은 A B C D 의 플레이어가 모여서 놀 수 있는 로비를 마련하고, A B C D 사이의 동기화를 관리한다.

이 방식의 문제점은 플레이어들의 행동을 그대로 믿어버리기 때문에 플레이어가 핵을 쓰면 그대로 다른 게임세상에 적용된다.  
클라이언트단에서는 중요한처리를 하는 척 또는 하지않고, 호스트나 서버단으로 넘겨버린다.

예를들면, A라는 유저가 이동을 할 때 C인 호스트에게 이동을 부탁하게 되고, 호스트인 C를 통해서 다른 세상의 A의 레플리카도 이동하게 된다. 즉, 어떤 처리를 클라이언트는 하려는 척만 하고 실질적인 처리는 Host에 의해 일어난다.

만약 A가 B에게 총을 쏜다고 했을 때, A는 클라이언트기 때문에 총알을 발사하려는 직전까지만 가고 실제로는 총알을 생성하진 않는다. A가 총알을 발사할 때 Host인 C에게 총알을 발사해달라고 부탁하고, C 게임 세상에서 총알은 생성되어 발사되게 된다.

## 2. Dedicate Server
